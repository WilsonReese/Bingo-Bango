<!-- Error Message -->
<% if @reservation.errors.any? %>
  <div class="alert alert-danger alert-dismissible fade show mt-4" role="alert">
    <strong><%= pluralize(@reservation.errors.count, "error") %> prohibited this reservation from being saved:</strong> 
    <ul>
      <% @reservation.errors.each do |error| %>
        <li><%= error.full_message %></li>
      <% end %>
    </ul>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
<% end %>

<div class="col-md-6 offset-md-3 mt-4">
  <h1>Make a reservation</h1>
</div>

<div>
  Current Time: <%= Time.current.strftime("%l:%M %p %b %d") %>
</div>

<!-- If I get stuck search ChatGPT for Okay, this updated the url and use those 
This got it so that I could get a date in the URL, but it was blocking off the times for the reservations for every single date
It also wouldn't show the options for today's date which makes me think there was some sort of timezone issue -->

<div class="container">
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <% if @reservation.start_time %>
        <div>1. Start Time: <%= @reservation.start_time.strftime("%l:%M %p") if @reservation.start_time %> </div>
        <% if @reservation.end_time %>
          <div>2. End Time: <%= @reservation.end_time.strftime("%l:%M %p") if @reservation.end_time %> </div>
          <%= render "shared/calendar", start_time: @reservation.start_time, end_time: @reservation.end_time, theater_id: @reservation.theater_id  %>
          <div class="mt-2 mb-2"><strong>3. Fill out the remainder of your reservation.</strong></div>
          <div>
            <%= render "form", reservation: @reservation %>
          </div>
        <% else %>
          <div><strong>2. Select an available time for the end of your reservation.</strong></div>
          <%= render "shared/calendar", start_time: @reservation.start_time, end_time: @reservation.end_time, theater_id: @reservation.theater_id  %>
        <% end %>
      <% else %>
        <div><strong>1. Select an available time for the start of your reservation.</strong></div>
        <%= render "shared/calendar", start_time: @reservation.start_time, end_time: @reservation.end_time, theater_id: @reservation.theater_id  %>
      <% end %></strong>
    </div>
  </div>
</div>

<br>

<div>
  <%= link_to "Back to reservations", reservations_path %>
</div>
